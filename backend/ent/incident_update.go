// Code generated by ent, DO NOT EDIT.

package ent

import (
	"context"
	"errors"
	"fmt"

	"entgo.io/ent/dialect/sql"
	"entgo.io/ent/dialect/sql/sqlgraph"
	"entgo.io/ent/schema/field"
	"github.com/google/uuid"
	"github.com/rezible/rezible/ent/incident"
	"github.com/rezible/rezible/ent/incidentdebrief"
	"github.com/rezible/rezible/ent/incidentevent"
	"github.com/rezible/rezible/ent/incidentfieldoption"
	"github.com/rezible/rezible/ent/incidentlink"
	"github.com/rezible/rezible/ent/incidentmilestone"
	"github.com/rezible/rezible/ent/incidentroleassignment"
	"github.com/rezible/rezible/ent/incidentseverity"
	"github.com/rezible/rezible/ent/incidenttag"
	"github.com/rezible/rezible/ent/incidenttype"
	"github.com/rezible/rezible/ent/meetingsession"
	"github.com/rezible/rezible/ent/predicate"
	"github.com/rezible/rezible/ent/retrospective"
	"github.com/rezible/rezible/ent/task"
	"github.com/rezible/rezible/ent/user"
)

// IncidentUpdate is the builder for updating Incident entities.
type IncidentUpdate struct {
	config
	hooks     []Hook
	mutation  *IncidentMutation
	modifiers []func(*sql.UpdateBuilder)
}

// Where appends a list predicates to the IncidentUpdate builder.
func (_u *IncidentUpdate) Where(ps ...predicate.Incident) *IncidentUpdate {
	_u.mutation.Where(ps...)
	return _u
}

// SetExternalID sets the "external_id" field.
func (_u *IncidentUpdate) SetExternalID(v string) *IncidentUpdate {
	_u.mutation.SetExternalID(v)
	return _u
}

// SetNillableExternalID sets the "external_id" field if the given value is not nil.
func (_u *IncidentUpdate) SetNillableExternalID(v *string) *IncidentUpdate {
	if v != nil {
		_u.SetExternalID(*v)
	}
	return _u
}

// ClearExternalID clears the value of the "external_id" field.
func (_u *IncidentUpdate) ClearExternalID() *IncidentUpdate {
	_u.mutation.ClearExternalID()
	return _u
}

// SetSlug sets the "slug" field.
func (_u *IncidentUpdate) SetSlug(v string) *IncidentUpdate {
	_u.mutation.SetSlug(v)
	return _u
}

// SetNillableSlug sets the "slug" field if the given value is not nil.
func (_u *IncidentUpdate) SetNillableSlug(v *string) *IncidentUpdate {
	if v != nil {
		_u.SetSlug(*v)
	}
	return _u
}

// SetTitle sets the "title" field.
func (_u *IncidentUpdate) SetTitle(v string) *IncidentUpdate {
	_u.mutation.SetTitle(v)
	return _u
}

// SetNillableTitle sets the "title" field if the given value is not nil.
func (_u *IncidentUpdate) SetNillableTitle(v *string) *IncidentUpdate {
	if v != nil {
		_u.SetTitle(*v)
	}
	return _u
}

// SetSeverityID sets the "severity_id" field.
func (_u *IncidentUpdate) SetSeverityID(v uuid.UUID) *IncidentUpdate {
	_u.mutation.SetSeverityID(v)
	return _u
}

// SetNillableSeverityID sets the "severity_id" field if the given value is not nil.
func (_u *IncidentUpdate) SetNillableSeverityID(v *uuid.UUID) *IncidentUpdate {
	if v != nil {
		_u.SetSeverityID(*v)
	}
	return _u
}

// SetTypeID sets the "type_id" field.
func (_u *IncidentUpdate) SetTypeID(v uuid.UUID) *IncidentUpdate {
	_u.mutation.SetTypeID(v)
	return _u
}

// SetNillableTypeID sets the "type_id" field if the given value is not nil.
func (_u *IncidentUpdate) SetNillableTypeID(v *uuid.UUID) *IncidentUpdate {
	if v != nil {
		_u.SetTypeID(*v)
	}
	return _u
}

// SetSummary sets the "summary" field.
func (_u *IncidentUpdate) SetSummary(v string) *IncidentUpdate {
	_u.mutation.SetSummary(v)
	return _u
}

// SetNillableSummary sets the "summary" field if the given value is not nil.
func (_u *IncidentUpdate) SetNillableSummary(v *string) *IncidentUpdate {
	if v != nil {
		_u.SetSummary(*v)
	}
	return _u
}

// ClearSummary clears the value of the "summary" field.
func (_u *IncidentUpdate) ClearSummary() *IncidentUpdate {
	_u.mutation.ClearSummary()
	return _u
}

// SetChatChannelID sets the "chat_channel_id" field.
func (_u *IncidentUpdate) SetChatChannelID(v string) *IncidentUpdate {
	_u.mutation.SetChatChannelID(v)
	return _u
}

// SetNillableChatChannelID sets the "chat_channel_id" field if the given value is not nil.
func (_u *IncidentUpdate) SetNillableChatChannelID(v *string) *IncidentUpdate {
	if v != nil {
		_u.SetChatChannelID(*v)
	}
	return _u
}

// ClearChatChannelID clears the value of the "chat_channel_id" field.
func (_u *IncidentUpdate) ClearChatChannelID() *IncidentUpdate {
	_u.mutation.ClearChatChannelID()
	return _u
}

// SetSeverity sets the "severity" edge to the IncidentSeverity entity.
func (_u *IncidentUpdate) SetSeverity(v *IncidentSeverity) *IncidentUpdate {
	return _u.SetSeverityID(v.ID)
}

// SetType sets the "type" edge to the IncidentType entity.
func (_u *IncidentUpdate) SetType(v *IncidentType) *IncidentUpdate {
	return _u.SetTypeID(v.ID)
}

// AddMilestoneIDs adds the "milestones" edge to the IncidentMilestone entity by IDs.
func (_u *IncidentUpdate) AddMilestoneIDs(ids ...uuid.UUID) *IncidentUpdate {
	_u.mutation.AddMilestoneIDs(ids...)
	return _u
}

// AddMilestones adds the "milestones" edges to the IncidentMilestone entity.
func (_u *IncidentUpdate) AddMilestones(v ...*IncidentMilestone) *IncidentUpdate {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddMilestoneIDs(ids...)
}

// AddEventIDs adds the "events" edge to the IncidentEvent entity by IDs.
func (_u *IncidentUpdate) AddEventIDs(ids ...uuid.UUID) *IncidentUpdate {
	_u.mutation.AddEventIDs(ids...)
	return _u
}

// AddEvents adds the "events" edges to the IncidentEvent entity.
func (_u *IncidentUpdate) AddEvents(v ...*IncidentEvent) *IncidentUpdate {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddEventIDs(ids...)
}

// SetRetrospectiveID sets the "retrospective" edge to the Retrospective entity by ID.
func (_u *IncidentUpdate) SetRetrospectiveID(id uuid.UUID) *IncidentUpdate {
	_u.mutation.SetRetrospectiveID(id)
	return _u
}

// SetNillableRetrospectiveID sets the "retrospective" edge to the Retrospective entity by ID if the given value is not nil.
func (_u *IncidentUpdate) SetNillableRetrospectiveID(id *uuid.UUID) *IncidentUpdate {
	if id != nil {
		_u = _u.SetRetrospectiveID(*id)
	}
	return _u
}

// SetRetrospective sets the "retrospective" edge to the Retrospective entity.
func (_u *IncidentUpdate) SetRetrospective(v *Retrospective) *IncidentUpdate {
	return _u.SetRetrospectiveID(v.ID)
}

// AddUserIDs adds the "users" edge to the User entity by IDs.
func (_u *IncidentUpdate) AddUserIDs(ids ...uuid.UUID) *IncidentUpdate {
	_u.mutation.AddUserIDs(ids...)
	return _u
}

// AddUsers adds the "users" edges to the User entity.
func (_u *IncidentUpdate) AddUsers(v ...*User) *IncidentUpdate {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddUserIDs(ids...)
}

// AddRoleAssignmentIDs adds the "role_assignments" edge to the IncidentRoleAssignment entity by IDs.
func (_u *IncidentUpdate) AddRoleAssignmentIDs(ids ...uuid.UUID) *IncidentUpdate {
	_u.mutation.AddRoleAssignmentIDs(ids...)
	return _u
}

// AddRoleAssignments adds the "role_assignments" edges to the IncidentRoleAssignment entity.
func (_u *IncidentUpdate) AddRoleAssignments(v ...*IncidentRoleAssignment) *IncidentUpdate {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddRoleAssignmentIDs(ids...)
}

// AddLinkedIncidentIDs adds the "linked_incidents" edge to the Incident entity by IDs.
func (_u *IncidentUpdate) AddLinkedIncidentIDs(ids ...uuid.UUID) *IncidentUpdate {
	_u.mutation.AddLinkedIncidentIDs(ids...)
	return _u
}

// AddLinkedIncidents adds the "linked_incidents" edges to the Incident entity.
func (_u *IncidentUpdate) AddLinkedIncidents(v ...*Incident) *IncidentUpdate {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddLinkedIncidentIDs(ids...)
}

// AddFieldSelectionIDs adds the "field_selections" edge to the IncidentFieldOption entity by IDs.
func (_u *IncidentUpdate) AddFieldSelectionIDs(ids ...uuid.UUID) *IncidentUpdate {
	_u.mutation.AddFieldSelectionIDs(ids...)
	return _u
}

// AddFieldSelections adds the "field_selections" edges to the IncidentFieldOption entity.
func (_u *IncidentUpdate) AddFieldSelections(v ...*IncidentFieldOption) *IncidentUpdate {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddFieldSelectionIDs(ids...)
}

// AddTaskIDs adds the "tasks" edge to the Task entity by IDs.
func (_u *IncidentUpdate) AddTaskIDs(ids ...uuid.UUID) *IncidentUpdate {
	_u.mutation.AddTaskIDs(ids...)
	return _u
}

// AddTasks adds the "tasks" edges to the Task entity.
func (_u *IncidentUpdate) AddTasks(v ...*Task) *IncidentUpdate {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddTaskIDs(ids...)
}

// AddTagAssignmentIDs adds the "tag_assignments" edge to the IncidentTag entity by IDs.
func (_u *IncidentUpdate) AddTagAssignmentIDs(ids ...uuid.UUID) *IncidentUpdate {
	_u.mutation.AddTagAssignmentIDs(ids...)
	return _u
}

// AddTagAssignments adds the "tag_assignments" edges to the IncidentTag entity.
func (_u *IncidentUpdate) AddTagAssignments(v ...*IncidentTag) *IncidentUpdate {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddTagAssignmentIDs(ids...)
}

// AddDebriefIDs adds the "debriefs" edge to the IncidentDebrief entity by IDs.
func (_u *IncidentUpdate) AddDebriefIDs(ids ...uuid.UUID) *IncidentUpdate {
	_u.mutation.AddDebriefIDs(ids...)
	return _u
}

// AddDebriefs adds the "debriefs" edges to the IncidentDebrief entity.
func (_u *IncidentUpdate) AddDebriefs(v ...*IncidentDebrief) *IncidentUpdate {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddDebriefIDs(ids...)
}

// AddReviewSessionIDs adds the "review_sessions" edge to the MeetingSession entity by IDs.
func (_u *IncidentUpdate) AddReviewSessionIDs(ids ...uuid.UUID) *IncidentUpdate {
	_u.mutation.AddReviewSessionIDs(ids...)
	return _u
}

// AddReviewSessions adds the "review_sessions" edges to the MeetingSession entity.
func (_u *IncidentUpdate) AddReviewSessions(v ...*MeetingSession) *IncidentUpdate {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddReviewSessionIDs(ids...)
}

// AddUserRoleIDs adds the "user_roles" edge to the IncidentRoleAssignment entity by IDs.
func (_u *IncidentUpdate) AddUserRoleIDs(ids ...uuid.UUID) *IncidentUpdate {
	_u.mutation.AddUserRoleIDs(ids...)
	return _u
}

// AddUserRoles adds the "user_roles" edges to the IncidentRoleAssignment entity.
func (_u *IncidentUpdate) AddUserRoles(v ...*IncidentRoleAssignment) *IncidentUpdate {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddUserRoleIDs(ids...)
}

// AddIncidentLinkIDs adds the "incident_links" edge to the IncidentLink entity by IDs.
func (_u *IncidentUpdate) AddIncidentLinkIDs(ids ...int) *IncidentUpdate {
	_u.mutation.AddIncidentLinkIDs(ids...)
	return _u
}

// AddIncidentLinks adds the "incident_links" edges to the IncidentLink entity.
func (_u *IncidentUpdate) AddIncidentLinks(v ...*IncidentLink) *IncidentUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddIncidentLinkIDs(ids...)
}

// Mutation returns the IncidentMutation object of the builder.
func (_u *IncidentUpdate) Mutation() *IncidentMutation {
	return _u.mutation
}

// ClearSeverity clears the "severity" edge to the IncidentSeverity entity.
func (_u *IncidentUpdate) ClearSeverity() *IncidentUpdate {
	_u.mutation.ClearSeverity()
	return _u
}

// ClearType clears the "type" edge to the IncidentType entity.
func (_u *IncidentUpdate) ClearType() *IncidentUpdate {
	_u.mutation.ClearType()
	return _u
}

// ClearMilestones clears all "milestones" edges to the IncidentMilestone entity.
func (_u *IncidentUpdate) ClearMilestones() *IncidentUpdate {
	_u.mutation.ClearMilestones()
	return _u
}

// RemoveMilestoneIDs removes the "milestones" edge to IncidentMilestone entities by IDs.
func (_u *IncidentUpdate) RemoveMilestoneIDs(ids ...uuid.UUID) *IncidentUpdate {
	_u.mutation.RemoveMilestoneIDs(ids...)
	return _u
}

// RemoveMilestones removes "milestones" edges to IncidentMilestone entities.
func (_u *IncidentUpdate) RemoveMilestones(v ...*IncidentMilestone) *IncidentUpdate {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveMilestoneIDs(ids...)
}

// ClearEvents clears all "events" edges to the IncidentEvent entity.
func (_u *IncidentUpdate) ClearEvents() *IncidentUpdate {
	_u.mutation.ClearEvents()
	return _u
}

// RemoveEventIDs removes the "events" edge to IncidentEvent entities by IDs.
func (_u *IncidentUpdate) RemoveEventIDs(ids ...uuid.UUID) *IncidentUpdate {
	_u.mutation.RemoveEventIDs(ids...)
	return _u
}

// RemoveEvents removes "events" edges to IncidentEvent entities.
func (_u *IncidentUpdate) RemoveEvents(v ...*IncidentEvent) *IncidentUpdate {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveEventIDs(ids...)
}

// ClearRetrospective clears the "retrospective" edge to the Retrospective entity.
func (_u *IncidentUpdate) ClearRetrospective() *IncidentUpdate {
	_u.mutation.ClearRetrospective()
	return _u
}

// ClearUsers clears all "users" edges to the User entity.
func (_u *IncidentUpdate) ClearUsers() *IncidentUpdate {
	_u.mutation.ClearUsers()
	return _u
}

// RemoveUserIDs removes the "users" edge to User entities by IDs.
func (_u *IncidentUpdate) RemoveUserIDs(ids ...uuid.UUID) *IncidentUpdate {
	_u.mutation.RemoveUserIDs(ids...)
	return _u
}

// RemoveUsers removes "users" edges to User entities.
func (_u *IncidentUpdate) RemoveUsers(v ...*User) *IncidentUpdate {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveUserIDs(ids...)
}

// ClearRoleAssignments clears all "role_assignments" edges to the IncidentRoleAssignment entity.
func (_u *IncidentUpdate) ClearRoleAssignments() *IncidentUpdate {
	_u.mutation.ClearRoleAssignments()
	return _u
}

// RemoveRoleAssignmentIDs removes the "role_assignments" edge to IncidentRoleAssignment entities by IDs.
func (_u *IncidentUpdate) RemoveRoleAssignmentIDs(ids ...uuid.UUID) *IncidentUpdate {
	_u.mutation.RemoveRoleAssignmentIDs(ids...)
	return _u
}

// RemoveRoleAssignments removes "role_assignments" edges to IncidentRoleAssignment entities.
func (_u *IncidentUpdate) RemoveRoleAssignments(v ...*IncidentRoleAssignment) *IncidentUpdate {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveRoleAssignmentIDs(ids...)
}

// ClearLinkedIncidents clears all "linked_incidents" edges to the Incident entity.
func (_u *IncidentUpdate) ClearLinkedIncidents() *IncidentUpdate {
	_u.mutation.ClearLinkedIncidents()
	return _u
}

// RemoveLinkedIncidentIDs removes the "linked_incidents" edge to Incident entities by IDs.
func (_u *IncidentUpdate) RemoveLinkedIncidentIDs(ids ...uuid.UUID) *IncidentUpdate {
	_u.mutation.RemoveLinkedIncidentIDs(ids...)
	return _u
}

// RemoveLinkedIncidents removes "linked_incidents" edges to Incident entities.
func (_u *IncidentUpdate) RemoveLinkedIncidents(v ...*Incident) *IncidentUpdate {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveLinkedIncidentIDs(ids...)
}

// ClearFieldSelections clears all "field_selections" edges to the IncidentFieldOption entity.
func (_u *IncidentUpdate) ClearFieldSelections() *IncidentUpdate {
	_u.mutation.ClearFieldSelections()
	return _u
}

// RemoveFieldSelectionIDs removes the "field_selections" edge to IncidentFieldOption entities by IDs.
func (_u *IncidentUpdate) RemoveFieldSelectionIDs(ids ...uuid.UUID) *IncidentUpdate {
	_u.mutation.RemoveFieldSelectionIDs(ids...)
	return _u
}

// RemoveFieldSelections removes "field_selections" edges to IncidentFieldOption entities.
func (_u *IncidentUpdate) RemoveFieldSelections(v ...*IncidentFieldOption) *IncidentUpdate {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveFieldSelectionIDs(ids...)
}

// ClearTasks clears all "tasks" edges to the Task entity.
func (_u *IncidentUpdate) ClearTasks() *IncidentUpdate {
	_u.mutation.ClearTasks()
	return _u
}

// RemoveTaskIDs removes the "tasks" edge to Task entities by IDs.
func (_u *IncidentUpdate) RemoveTaskIDs(ids ...uuid.UUID) *IncidentUpdate {
	_u.mutation.RemoveTaskIDs(ids...)
	return _u
}

// RemoveTasks removes "tasks" edges to Task entities.
func (_u *IncidentUpdate) RemoveTasks(v ...*Task) *IncidentUpdate {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveTaskIDs(ids...)
}

// ClearTagAssignments clears all "tag_assignments" edges to the IncidentTag entity.
func (_u *IncidentUpdate) ClearTagAssignments() *IncidentUpdate {
	_u.mutation.ClearTagAssignments()
	return _u
}

// RemoveTagAssignmentIDs removes the "tag_assignments" edge to IncidentTag entities by IDs.
func (_u *IncidentUpdate) RemoveTagAssignmentIDs(ids ...uuid.UUID) *IncidentUpdate {
	_u.mutation.RemoveTagAssignmentIDs(ids...)
	return _u
}

// RemoveTagAssignments removes "tag_assignments" edges to IncidentTag entities.
func (_u *IncidentUpdate) RemoveTagAssignments(v ...*IncidentTag) *IncidentUpdate {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveTagAssignmentIDs(ids...)
}

// ClearDebriefs clears all "debriefs" edges to the IncidentDebrief entity.
func (_u *IncidentUpdate) ClearDebriefs() *IncidentUpdate {
	_u.mutation.ClearDebriefs()
	return _u
}

// RemoveDebriefIDs removes the "debriefs" edge to IncidentDebrief entities by IDs.
func (_u *IncidentUpdate) RemoveDebriefIDs(ids ...uuid.UUID) *IncidentUpdate {
	_u.mutation.RemoveDebriefIDs(ids...)
	return _u
}

// RemoveDebriefs removes "debriefs" edges to IncidentDebrief entities.
func (_u *IncidentUpdate) RemoveDebriefs(v ...*IncidentDebrief) *IncidentUpdate {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveDebriefIDs(ids...)
}

// ClearReviewSessions clears all "review_sessions" edges to the MeetingSession entity.
func (_u *IncidentUpdate) ClearReviewSessions() *IncidentUpdate {
	_u.mutation.ClearReviewSessions()
	return _u
}

// RemoveReviewSessionIDs removes the "review_sessions" edge to MeetingSession entities by IDs.
func (_u *IncidentUpdate) RemoveReviewSessionIDs(ids ...uuid.UUID) *IncidentUpdate {
	_u.mutation.RemoveReviewSessionIDs(ids...)
	return _u
}

// RemoveReviewSessions removes "review_sessions" edges to MeetingSession entities.
func (_u *IncidentUpdate) RemoveReviewSessions(v ...*MeetingSession) *IncidentUpdate {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveReviewSessionIDs(ids...)
}

// ClearUserRoles clears all "user_roles" edges to the IncidentRoleAssignment entity.
func (_u *IncidentUpdate) ClearUserRoles() *IncidentUpdate {
	_u.mutation.ClearUserRoles()
	return _u
}

// RemoveUserRoleIDs removes the "user_roles" edge to IncidentRoleAssignment entities by IDs.
func (_u *IncidentUpdate) RemoveUserRoleIDs(ids ...uuid.UUID) *IncidentUpdate {
	_u.mutation.RemoveUserRoleIDs(ids...)
	return _u
}

// RemoveUserRoles removes "user_roles" edges to IncidentRoleAssignment entities.
func (_u *IncidentUpdate) RemoveUserRoles(v ...*IncidentRoleAssignment) *IncidentUpdate {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveUserRoleIDs(ids...)
}

// ClearIncidentLinks clears all "incident_links" edges to the IncidentLink entity.
func (_u *IncidentUpdate) ClearIncidentLinks() *IncidentUpdate {
	_u.mutation.ClearIncidentLinks()
	return _u
}

// RemoveIncidentLinkIDs removes the "incident_links" edge to IncidentLink entities by IDs.
func (_u *IncidentUpdate) RemoveIncidentLinkIDs(ids ...int) *IncidentUpdate {
	_u.mutation.RemoveIncidentLinkIDs(ids...)
	return _u
}

// RemoveIncidentLinks removes "incident_links" edges to IncidentLink entities.
func (_u *IncidentUpdate) RemoveIncidentLinks(v ...*IncidentLink) *IncidentUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveIncidentLinkIDs(ids...)
}

// Save executes the query and returns the number of nodes affected by the update operation.
func (_u *IncidentUpdate) Save(ctx context.Context) (int, error) {
	return withHooks(ctx, _u.sqlSave, _u.mutation, _u.hooks)
}

// SaveX is like Save, but panics if an error occurs.
func (_u *IncidentUpdate) SaveX(ctx context.Context) int {
	affected, err := _u.Save(ctx)
	if err != nil {
		panic(err)
	}
	return affected
}

// Exec executes the query.
func (_u *IncidentUpdate) Exec(ctx context.Context) error {
	_, err := _u.Save(ctx)
	return err
}

// ExecX is like Exec, but panics if an error occurs.
func (_u *IncidentUpdate) ExecX(ctx context.Context) {
	if err := _u.Exec(ctx); err != nil {
		panic(err)
	}
}

// check runs all checks and user-defined validators on the builder.
func (_u *IncidentUpdate) check() error {
	if _u.mutation.TenantCleared() && len(_u.mutation.TenantIDs()) > 0 {
		return errors.New(`ent: clearing a required unique edge "Incident.tenant"`)
	}
	if _u.mutation.SeverityCleared() && len(_u.mutation.SeverityIDs()) > 0 {
		return errors.New(`ent: clearing a required unique edge "Incident.severity"`)
	}
	if _u.mutation.TypeCleared() && len(_u.mutation.TypeIDs()) > 0 {
		return errors.New(`ent: clearing a required unique edge "Incident.type"`)
	}
	return nil
}

// Modify adds a statement modifier for attaching custom logic to the UPDATE statement.
func (_u *IncidentUpdate) Modify(modifiers ...func(u *sql.UpdateBuilder)) *IncidentUpdate {
	_u.modifiers = append(_u.modifiers, modifiers...)
	return _u
}

func (_u *IncidentUpdate) sqlSave(ctx context.Context) (_node int, err error) {
	if err := _u.check(); err != nil {
		return _node, err
	}
	_spec := sqlgraph.NewUpdateSpec(incident.Table, incident.Columns, sqlgraph.NewFieldSpec(incident.FieldID, field.TypeUUID))
	if ps := _u.mutation.predicates; len(ps) > 0 {
		_spec.Predicate = func(selector *sql.Selector) {
			for i := range ps {
				ps[i](selector)
			}
		}
	}
	if value, ok := _u.mutation.ExternalID(); ok {
		_spec.SetField(incident.FieldExternalID, field.TypeString, value)
	}
	if _u.mutation.ExternalIDCleared() {
		_spec.ClearField(incident.FieldExternalID, field.TypeString)
	}
	if value, ok := _u.mutation.Slug(); ok {
		_spec.SetField(incident.FieldSlug, field.TypeString, value)
	}
	if value, ok := _u.mutation.Title(); ok {
		_spec.SetField(incident.FieldTitle, field.TypeString, value)
	}
	if value, ok := _u.mutation.Summary(); ok {
		_spec.SetField(incident.FieldSummary, field.TypeString, value)
	}
	if _u.mutation.SummaryCleared() {
		_spec.ClearField(incident.FieldSummary, field.TypeString)
	}
	if value, ok := _u.mutation.ChatChannelID(); ok {
		_spec.SetField(incident.FieldChatChannelID, field.TypeString, value)
	}
	if _u.mutation.ChatChannelIDCleared() {
		_spec.ClearField(incident.FieldChatChannelID, field.TypeString)
	}
	if _u.mutation.SeverityCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2O,
			Inverse: false,
			Table:   incident.SeverityTable,
			Columns: []string{incident.SeverityColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentseverity.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.SeverityIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2O,
			Inverse: false,
			Table:   incident.SeverityTable,
			Columns: []string{incident.SeverityColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentseverity.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.TypeCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2O,
			Inverse: false,
			Table:   incident.TypeTable,
			Columns: []string{incident.TypeColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidenttype.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.TypeIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2O,
			Inverse: false,
			Table:   incident.TypeTable,
			Columns: []string{incident.TypeColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidenttype.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.MilestonesCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.MilestonesTable,
			Columns: []string{incident.MilestonesColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentmilestone.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedMilestonesIDs(); len(nodes) > 0 && !_u.mutation.MilestonesCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.MilestonesTable,
			Columns: []string{incident.MilestonesColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentmilestone.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.MilestonesIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.MilestonesTable,
			Columns: []string{incident.MilestonesColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentmilestone.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.EventsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.EventsTable,
			Columns: []string{incident.EventsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentevent.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedEventsIDs(); len(nodes) > 0 && !_u.mutation.EventsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.EventsTable,
			Columns: []string{incident.EventsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentevent.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.EventsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.EventsTable,
			Columns: []string{incident.EventsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentevent.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.RetrospectiveCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2O,
			Inverse: false,
			Table:   incident.RetrospectiveTable,
			Columns: []string{incident.RetrospectiveColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(retrospective.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RetrospectiveIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2O,
			Inverse: false,
			Table:   incident.RetrospectiveTable,
			Columns: []string{incident.RetrospectiveColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(retrospective.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.UsersCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: true,
			Table:   incident.UsersTable,
			Columns: incident.UsersPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(user.FieldID, field.TypeUUID),
			},
		}
		createE := &IncidentRoleAssignmentCreate{config: _u.config, mutation: newIncidentRoleAssignmentMutation(_u.config, OpCreate)}
		_ = createE.defaults()
		_, specE := createE.createSpec()
		edge.Target.Fields = specE.Fields
		if specE.ID.Value != nil {
			edge.Target.Fields = append(edge.Target.Fields, specE.ID)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedUsersIDs(); len(nodes) > 0 && !_u.mutation.UsersCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: true,
			Table:   incident.UsersTable,
			Columns: incident.UsersPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(user.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		createE := &IncidentRoleAssignmentCreate{config: _u.config, mutation: newIncidentRoleAssignmentMutation(_u.config, OpCreate)}
		_ = createE.defaults()
		_, specE := createE.createSpec()
		edge.Target.Fields = specE.Fields
		if specE.ID.Value != nil {
			edge.Target.Fields = append(edge.Target.Fields, specE.ID)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.UsersIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: true,
			Table:   incident.UsersTable,
			Columns: incident.UsersPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(user.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		createE := &IncidentRoleAssignmentCreate{config: _u.config, mutation: newIncidentRoleAssignmentMutation(_u.config, OpCreate)}
		_ = createE.defaults()
		_, specE := createE.createSpec()
		edge.Target.Fields = specE.Fields
		if specE.ID.Value != nil {
			edge.Target.Fields = append(edge.Target.Fields, specE.ID)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.RoleAssignmentsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: true,
			Table:   incident.RoleAssignmentsTable,
			Columns: []string{incident.RoleAssignmentsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentroleassignment.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedRoleAssignmentsIDs(); len(nodes) > 0 && !_u.mutation.RoleAssignmentsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: true,
			Table:   incident.RoleAssignmentsTable,
			Columns: []string{incident.RoleAssignmentsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentroleassignment.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RoleAssignmentsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: true,
			Table:   incident.RoleAssignmentsTable,
			Columns: []string{incident.RoleAssignmentsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentroleassignment.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.LinkedIncidentsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.LinkedIncidentsTable,
			Columns: incident.LinkedIncidentsPrimaryKey,
			Bidi:    true,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incident.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedLinkedIncidentsIDs(); len(nodes) > 0 && !_u.mutation.LinkedIncidentsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.LinkedIncidentsTable,
			Columns: incident.LinkedIncidentsPrimaryKey,
			Bidi:    true,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incident.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.LinkedIncidentsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.LinkedIncidentsTable,
			Columns: incident.LinkedIncidentsPrimaryKey,
			Bidi:    true,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incident.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.FieldSelectionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.FieldSelectionsTable,
			Columns: incident.FieldSelectionsPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentfieldoption.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedFieldSelectionsIDs(); len(nodes) > 0 && !_u.mutation.FieldSelectionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.FieldSelectionsTable,
			Columns: incident.FieldSelectionsPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentfieldoption.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.FieldSelectionsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.FieldSelectionsTable,
			Columns: incident.FieldSelectionsPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentfieldoption.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.TasksCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.TasksTable,
			Columns: []string{incident.TasksColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(task.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedTasksIDs(); len(nodes) > 0 && !_u.mutation.TasksCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.TasksTable,
			Columns: []string{incident.TasksColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(task.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.TasksIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.TasksTable,
			Columns: []string{incident.TasksColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(task.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.TagAssignmentsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.TagAssignmentsTable,
			Columns: incident.TagAssignmentsPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidenttag.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedTagAssignmentsIDs(); len(nodes) > 0 && !_u.mutation.TagAssignmentsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.TagAssignmentsTable,
			Columns: incident.TagAssignmentsPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidenttag.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.TagAssignmentsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.TagAssignmentsTable,
			Columns: incident.TagAssignmentsPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidenttag.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.DebriefsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.DebriefsTable,
			Columns: []string{incident.DebriefsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentdebrief.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedDebriefsIDs(); len(nodes) > 0 && !_u.mutation.DebriefsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.DebriefsTable,
			Columns: []string{incident.DebriefsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentdebrief.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.DebriefsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.DebriefsTable,
			Columns: []string{incident.DebriefsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentdebrief.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.ReviewSessionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.ReviewSessionsTable,
			Columns: incident.ReviewSessionsPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(meetingsession.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedReviewSessionsIDs(); len(nodes) > 0 && !_u.mutation.ReviewSessionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.ReviewSessionsTable,
			Columns: incident.ReviewSessionsPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(meetingsession.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.ReviewSessionsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.ReviewSessionsTable,
			Columns: incident.ReviewSessionsPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(meetingsession.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.UserRolesCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: true,
			Table:   incident.UserRolesTable,
			Columns: []string{incident.UserRolesColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentroleassignment.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedUserRolesIDs(); len(nodes) > 0 && !_u.mutation.UserRolesCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: true,
			Table:   incident.UserRolesTable,
			Columns: []string{incident.UserRolesColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentroleassignment.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.UserRolesIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: true,
			Table:   incident.UserRolesTable,
			Columns: []string{incident.UserRolesColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentroleassignment.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.IncidentLinksCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: true,
			Table:   incident.IncidentLinksTable,
			Columns: []string{incident.IncidentLinksColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentlink.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedIncidentLinksIDs(); len(nodes) > 0 && !_u.mutation.IncidentLinksCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: true,
			Table:   incident.IncidentLinksTable,
			Columns: []string{incident.IncidentLinksColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentlink.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.IncidentLinksIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: true,
			Table:   incident.IncidentLinksTable,
			Columns: []string{incident.IncidentLinksColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentlink.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	_spec.AddModifiers(_u.modifiers...)
	if _node, err = sqlgraph.UpdateNodes(ctx, _u.driver, _spec); err != nil {
		if _, ok := err.(*sqlgraph.NotFoundError); ok {
			err = &NotFoundError{incident.Label}
		} else if sqlgraph.IsConstraintError(err) {
			err = &ConstraintError{msg: err.Error(), wrap: err}
		}
		return 0, err
	}
	_u.mutation.done = true
	return _node, nil
}

// IncidentUpdateOne is the builder for updating a single Incident entity.
type IncidentUpdateOne struct {
	config
	fields    []string
	hooks     []Hook
	mutation  *IncidentMutation
	modifiers []func(*sql.UpdateBuilder)
}

// SetExternalID sets the "external_id" field.
func (_u *IncidentUpdateOne) SetExternalID(v string) *IncidentUpdateOne {
	_u.mutation.SetExternalID(v)
	return _u
}

// SetNillableExternalID sets the "external_id" field if the given value is not nil.
func (_u *IncidentUpdateOne) SetNillableExternalID(v *string) *IncidentUpdateOne {
	if v != nil {
		_u.SetExternalID(*v)
	}
	return _u
}

// ClearExternalID clears the value of the "external_id" field.
func (_u *IncidentUpdateOne) ClearExternalID() *IncidentUpdateOne {
	_u.mutation.ClearExternalID()
	return _u
}

// SetSlug sets the "slug" field.
func (_u *IncidentUpdateOne) SetSlug(v string) *IncidentUpdateOne {
	_u.mutation.SetSlug(v)
	return _u
}

// SetNillableSlug sets the "slug" field if the given value is not nil.
func (_u *IncidentUpdateOne) SetNillableSlug(v *string) *IncidentUpdateOne {
	if v != nil {
		_u.SetSlug(*v)
	}
	return _u
}

// SetTitle sets the "title" field.
func (_u *IncidentUpdateOne) SetTitle(v string) *IncidentUpdateOne {
	_u.mutation.SetTitle(v)
	return _u
}

// SetNillableTitle sets the "title" field if the given value is not nil.
func (_u *IncidentUpdateOne) SetNillableTitle(v *string) *IncidentUpdateOne {
	if v != nil {
		_u.SetTitle(*v)
	}
	return _u
}

// SetSeverityID sets the "severity_id" field.
func (_u *IncidentUpdateOne) SetSeverityID(v uuid.UUID) *IncidentUpdateOne {
	_u.mutation.SetSeverityID(v)
	return _u
}

// SetNillableSeverityID sets the "severity_id" field if the given value is not nil.
func (_u *IncidentUpdateOne) SetNillableSeverityID(v *uuid.UUID) *IncidentUpdateOne {
	if v != nil {
		_u.SetSeverityID(*v)
	}
	return _u
}

// SetTypeID sets the "type_id" field.
func (_u *IncidentUpdateOne) SetTypeID(v uuid.UUID) *IncidentUpdateOne {
	_u.mutation.SetTypeID(v)
	return _u
}

// SetNillableTypeID sets the "type_id" field if the given value is not nil.
func (_u *IncidentUpdateOne) SetNillableTypeID(v *uuid.UUID) *IncidentUpdateOne {
	if v != nil {
		_u.SetTypeID(*v)
	}
	return _u
}

// SetSummary sets the "summary" field.
func (_u *IncidentUpdateOne) SetSummary(v string) *IncidentUpdateOne {
	_u.mutation.SetSummary(v)
	return _u
}

// SetNillableSummary sets the "summary" field if the given value is not nil.
func (_u *IncidentUpdateOne) SetNillableSummary(v *string) *IncidentUpdateOne {
	if v != nil {
		_u.SetSummary(*v)
	}
	return _u
}

// ClearSummary clears the value of the "summary" field.
func (_u *IncidentUpdateOne) ClearSummary() *IncidentUpdateOne {
	_u.mutation.ClearSummary()
	return _u
}

// SetChatChannelID sets the "chat_channel_id" field.
func (_u *IncidentUpdateOne) SetChatChannelID(v string) *IncidentUpdateOne {
	_u.mutation.SetChatChannelID(v)
	return _u
}

// SetNillableChatChannelID sets the "chat_channel_id" field if the given value is not nil.
func (_u *IncidentUpdateOne) SetNillableChatChannelID(v *string) *IncidentUpdateOne {
	if v != nil {
		_u.SetChatChannelID(*v)
	}
	return _u
}

// ClearChatChannelID clears the value of the "chat_channel_id" field.
func (_u *IncidentUpdateOne) ClearChatChannelID() *IncidentUpdateOne {
	_u.mutation.ClearChatChannelID()
	return _u
}

// SetSeverity sets the "severity" edge to the IncidentSeverity entity.
func (_u *IncidentUpdateOne) SetSeverity(v *IncidentSeverity) *IncidentUpdateOne {
	return _u.SetSeverityID(v.ID)
}

// SetType sets the "type" edge to the IncidentType entity.
func (_u *IncidentUpdateOne) SetType(v *IncidentType) *IncidentUpdateOne {
	return _u.SetTypeID(v.ID)
}

// AddMilestoneIDs adds the "milestones" edge to the IncidentMilestone entity by IDs.
func (_u *IncidentUpdateOne) AddMilestoneIDs(ids ...uuid.UUID) *IncidentUpdateOne {
	_u.mutation.AddMilestoneIDs(ids...)
	return _u
}

// AddMilestones adds the "milestones" edges to the IncidentMilestone entity.
func (_u *IncidentUpdateOne) AddMilestones(v ...*IncidentMilestone) *IncidentUpdateOne {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddMilestoneIDs(ids...)
}

// AddEventIDs adds the "events" edge to the IncidentEvent entity by IDs.
func (_u *IncidentUpdateOne) AddEventIDs(ids ...uuid.UUID) *IncidentUpdateOne {
	_u.mutation.AddEventIDs(ids...)
	return _u
}

// AddEvents adds the "events" edges to the IncidentEvent entity.
func (_u *IncidentUpdateOne) AddEvents(v ...*IncidentEvent) *IncidentUpdateOne {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddEventIDs(ids...)
}

// SetRetrospectiveID sets the "retrospective" edge to the Retrospective entity by ID.
func (_u *IncidentUpdateOne) SetRetrospectiveID(id uuid.UUID) *IncidentUpdateOne {
	_u.mutation.SetRetrospectiveID(id)
	return _u
}

// SetNillableRetrospectiveID sets the "retrospective" edge to the Retrospective entity by ID if the given value is not nil.
func (_u *IncidentUpdateOne) SetNillableRetrospectiveID(id *uuid.UUID) *IncidentUpdateOne {
	if id != nil {
		_u = _u.SetRetrospectiveID(*id)
	}
	return _u
}

// SetRetrospective sets the "retrospective" edge to the Retrospective entity.
func (_u *IncidentUpdateOne) SetRetrospective(v *Retrospective) *IncidentUpdateOne {
	return _u.SetRetrospectiveID(v.ID)
}

// AddUserIDs adds the "users" edge to the User entity by IDs.
func (_u *IncidentUpdateOne) AddUserIDs(ids ...uuid.UUID) *IncidentUpdateOne {
	_u.mutation.AddUserIDs(ids...)
	return _u
}

// AddUsers adds the "users" edges to the User entity.
func (_u *IncidentUpdateOne) AddUsers(v ...*User) *IncidentUpdateOne {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddUserIDs(ids...)
}

// AddRoleAssignmentIDs adds the "role_assignments" edge to the IncidentRoleAssignment entity by IDs.
func (_u *IncidentUpdateOne) AddRoleAssignmentIDs(ids ...uuid.UUID) *IncidentUpdateOne {
	_u.mutation.AddRoleAssignmentIDs(ids...)
	return _u
}

// AddRoleAssignments adds the "role_assignments" edges to the IncidentRoleAssignment entity.
func (_u *IncidentUpdateOne) AddRoleAssignments(v ...*IncidentRoleAssignment) *IncidentUpdateOne {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddRoleAssignmentIDs(ids...)
}

// AddLinkedIncidentIDs adds the "linked_incidents" edge to the Incident entity by IDs.
func (_u *IncidentUpdateOne) AddLinkedIncidentIDs(ids ...uuid.UUID) *IncidentUpdateOne {
	_u.mutation.AddLinkedIncidentIDs(ids...)
	return _u
}

// AddLinkedIncidents adds the "linked_incidents" edges to the Incident entity.
func (_u *IncidentUpdateOne) AddLinkedIncidents(v ...*Incident) *IncidentUpdateOne {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddLinkedIncidentIDs(ids...)
}

// AddFieldSelectionIDs adds the "field_selections" edge to the IncidentFieldOption entity by IDs.
func (_u *IncidentUpdateOne) AddFieldSelectionIDs(ids ...uuid.UUID) *IncidentUpdateOne {
	_u.mutation.AddFieldSelectionIDs(ids...)
	return _u
}

// AddFieldSelections adds the "field_selections" edges to the IncidentFieldOption entity.
func (_u *IncidentUpdateOne) AddFieldSelections(v ...*IncidentFieldOption) *IncidentUpdateOne {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddFieldSelectionIDs(ids...)
}

// AddTaskIDs adds the "tasks" edge to the Task entity by IDs.
func (_u *IncidentUpdateOne) AddTaskIDs(ids ...uuid.UUID) *IncidentUpdateOne {
	_u.mutation.AddTaskIDs(ids...)
	return _u
}

// AddTasks adds the "tasks" edges to the Task entity.
func (_u *IncidentUpdateOne) AddTasks(v ...*Task) *IncidentUpdateOne {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddTaskIDs(ids...)
}

// AddTagAssignmentIDs adds the "tag_assignments" edge to the IncidentTag entity by IDs.
func (_u *IncidentUpdateOne) AddTagAssignmentIDs(ids ...uuid.UUID) *IncidentUpdateOne {
	_u.mutation.AddTagAssignmentIDs(ids...)
	return _u
}

// AddTagAssignments adds the "tag_assignments" edges to the IncidentTag entity.
func (_u *IncidentUpdateOne) AddTagAssignments(v ...*IncidentTag) *IncidentUpdateOne {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddTagAssignmentIDs(ids...)
}

// AddDebriefIDs adds the "debriefs" edge to the IncidentDebrief entity by IDs.
func (_u *IncidentUpdateOne) AddDebriefIDs(ids ...uuid.UUID) *IncidentUpdateOne {
	_u.mutation.AddDebriefIDs(ids...)
	return _u
}

// AddDebriefs adds the "debriefs" edges to the IncidentDebrief entity.
func (_u *IncidentUpdateOne) AddDebriefs(v ...*IncidentDebrief) *IncidentUpdateOne {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddDebriefIDs(ids...)
}

// AddReviewSessionIDs adds the "review_sessions" edge to the MeetingSession entity by IDs.
func (_u *IncidentUpdateOne) AddReviewSessionIDs(ids ...uuid.UUID) *IncidentUpdateOne {
	_u.mutation.AddReviewSessionIDs(ids...)
	return _u
}

// AddReviewSessions adds the "review_sessions" edges to the MeetingSession entity.
func (_u *IncidentUpdateOne) AddReviewSessions(v ...*MeetingSession) *IncidentUpdateOne {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddReviewSessionIDs(ids...)
}

// AddUserRoleIDs adds the "user_roles" edge to the IncidentRoleAssignment entity by IDs.
func (_u *IncidentUpdateOne) AddUserRoleIDs(ids ...uuid.UUID) *IncidentUpdateOne {
	_u.mutation.AddUserRoleIDs(ids...)
	return _u
}

// AddUserRoles adds the "user_roles" edges to the IncidentRoleAssignment entity.
func (_u *IncidentUpdateOne) AddUserRoles(v ...*IncidentRoleAssignment) *IncidentUpdateOne {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddUserRoleIDs(ids...)
}

// AddIncidentLinkIDs adds the "incident_links" edge to the IncidentLink entity by IDs.
func (_u *IncidentUpdateOne) AddIncidentLinkIDs(ids ...int) *IncidentUpdateOne {
	_u.mutation.AddIncidentLinkIDs(ids...)
	return _u
}

// AddIncidentLinks adds the "incident_links" edges to the IncidentLink entity.
func (_u *IncidentUpdateOne) AddIncidentLinks(v ...*IncidentLink) *IncidentUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddIncidentLinkIDs(ids...)
}

// Mutation returns the IncidentMutation object of the builder.
func (_u *IncidentUpdateOne) Mutation() *IncidentMutation {
	return _u.mutation
}

// ClearSeverity clears the "severity" edge to the IncidentSeverity entity.
func (_u *IncidentUpdateOne) ClearSeverity() *IncidentUpdateOne {
	_u.mutation.ClearSeverity()
	return _u
}

// ClearType clears the "type" edge to the IncidentType entity.
func (_u *IncidentUpdateOne) ClearType() *IncidentUpdateOne {
	_u.mutation.ClearType()
	return _u
}

// ClearMilestones clears all "milestones" edges to the IncidentMilestone entity.
func (_u *IncidentUpdateOne) ClearMilestones() *IncidentUpdateOne {
	_u.mutation.ClearMilestones()
	return _u
}

// RemoveMilestoneIDs removes the "milestones" edge to IncidentMilestone entities by IDs.
func (_u *IncidentUpdateOne) RemoveMilestoneIDs(ids ...uuid.UUID) *IncidentUpdateOne {
	_u.mutation.RemoveMilestoneIDs(ids...)
	return _u
}

// RemoveMilestones removes "milestones" edges to IncidentMilestone entities.
func (_u *IncidentUpdateOne) RemoveMilestones(v ...*IncidentMilestone) *IncidentUpdateOne {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveMilestoneIDs(ids...)
}

// ClearEvents clears all "events" edges to the IncidentEvent entity.
func (_u *IncidentUpdateOne) ClearEvents() *IncidentUpdateOne {
	_u.mutation.ClearEvents()
	return _u
}

// RemoveEventIDs removes the "events" edge to IncidentEvent entities by IDs.
func (_u *IncidentUpdateOne) RemoveEventIDs(ids ...uuid.UUID) *IncidentUpdateOne {
	_u.mutation.RemoveEventIDs(ids...)
	return _u
}

// RemoveEvents removes "events" edges to IncidentEvent entities.
func (_u *IncidentUpdateOne) RemoveEvents(v ...*IncidentEvent) *IncidentUpdateOne {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveEventIDs(ids...)
}

// ClearRetrospective clears the "retrospective" edge to the Retrospective entity.
func (_u *IncidentUpdateOne) ClearRetrospective() *IncidentUpdateOne {
	_u.mutation.ClearRetrospective()
	return _u
}

// ClearUsers clears all "users" edges to the User entity.
func (_u *IncidentUpdateOne) ClearUsers() *IncidentUpdateOne {
	_u.mutation.ClearUsers()
	return _u
}

// RemoveUserIDs removes the "users" edge to User entities by IDs.
func (_u *IncidentUpdateOne) RemoveUserIDs(ids ...uuid.UUID) *IncidentUpdateOne {
	_u.mutation.RemoveUserIDs(ids...)
	return _u
}

// RemoveUsers removes "users" edges to User entities.
func (_u *IncidentUpdateOne) RemoveUsers(v ...*User) *IncidentUpdateOne {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveUserIDs(ids...)
}

// ClearRoleAssignments clears all "role_assignments" edges to the IncidentRoleAssignment entity.
func (_u *IncidentUpdateOne) ClearRoleAssignments() *IncidentUpdateOne {
	_u.mutation.ClearRoleAssignments()
	return _u
}

// RemoveRoleAssignmentIDs removes the "role_assignments" edge to IncidentRoleAssignment entities by IDs.
func (_u *IncidentUpdateOne) RemoveRoleAssignmentIDs(ids ...uuid.UUID) *IncidentUpdateOne {
	_u.mutation.RemoveRoleAssignmentIDs(ids...)
	return _u
}

// RemoveRoleAssignments removes "role_assignments" edges to IncidentRoleAssignment entities.
func (_u *IncidentUpdateOne) RemoveRoleAssignments(v ...*IncidentRoleAssignment) *IncidentUpdateOne {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveRoleAssignmentIDs(ids...)
}

// ClearLinkedIncidents clears all "linked_incidents" edges to the Incident entity.
func (_u *IncidentUpdateOne) ClearLinkedIncidents() *IncidentUpdateOne {
	_u.mutation.ClearLinkedIncidents()
	return _u
}

// RemoveLinkedIncidentIDs removes the "linked_incidents" edge to Incident entities by IDs.
func (_u *IncidentUpdateOne) RemoveLinkedIncidentIDs(ids ...uuid.UUID) *IncidentUpdateOne {
	_u.mutation.RemoveLinkedIncidentIDs(ids...)
	return _u
}

// RemoveLinkedIncidents removes "linked_incidents" edges to Incident entities.
func (_u *IncidentUpdateOne) RemoveLinkedIncidents(v ...*Incident) *IncidentUpdateOne {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveLinkedIncidentIDs(ids...)
}

// ClearFieldSelections clears all "field_selections" edges to the IncidentFieldOption entity.
func (_u *IncidentUpdateOne) ClearFieldSelections() *IncidentUpdateOne {
	_u.mutation.ClearFieldSelections()
	return _u
}

// RemoveFieldSelectionIDs removes the "field_selections" edge to IncidentFieldOption entities by IDs.
func (_u *IncidentUpdateOne) RemoveFieldSelectionIDs(ids ...uuid.UUID) *IncidentUpdateOne {
	_u.mutation.RemoveFieldSelectionIDs(ids...)
	return _u
}

// RemoveFieldSelections removes "field_selections" edges to IncidentFieldOption entities.
func (_u *IncidentUpdateOne) RemoveFieldSelections(v ...*IncidentFieldOption) *IncidentUpdateOne {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveFieldSelectionIDs(ids...)
}

// ClearTasks clears all "tasks" edges to the Task entity.
func (_u *IncidentUpdateOne) ClearTasks() *IncidentUpdateOne {
	_u.mutation.ClearTasks()
	return _u
}

// RemoveTaskIDs removes the "tasks" edge to Task entities by IDs.
func (_u *IncidentUpdateOne) RemoveTaskIDs(ids ...uuid.UUID) *IncidentUpdateOne {
	_u.mutation.RemoveTaskIDs(ids...)
	return _u
}

// RemoveTasks removes "tasks" edges to Task entities.
func (_u *IncidentUpdateOne) RemoveTasks(v ...*Task) *IncidentUpdateOne {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveTaskIDs(ids...)
}

// ClearTagAssignments clears all "tag_assignments" edges to the IncidentTag entity.
func (_u *IncidentUpdateOne) ClearTagAssignments() *IncidentUpdateOne {
	_u.mutation.ClearTagAssignments()
	return _u
}

// RemoveTagAssignmentIDs removes the "tag_assignments" edge to IncidentTag entities by IDs.
func (_u *IncidentUpdateOne) RemoveTagAssignmentIDs(ids ...uuid.UUID) *IncidentUpdateOne {
	_u.mutation.RemoveTagAssignmentIDs(ids...)
	return _u
}

// RemoveTagAssignments removes "tag_assignments" edges to IncidentTag entities.
func (_u *IncidentUpdateOne) RemoveTagAssignments(v ...*IncidentTag) *IncidentUpdateOne {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveTagAssignmentIDs(ids...)
}

// ClearDebriefs clears all "debriefs" edges to the IncidentDebrief entity.
func (_u *IncidentUpdateOne) ClearDebriefs() *IncidentUpdateOne {
	_u.mutation.ClearDebriefs()
	return _u
}

// RemoveDebriefIDs removes the "debriefs" edge to IncidentDebrief entities by IDs.
func (_u *IncidentUpdateOne) RemoveDebriefIDs(ids ...uuid.UUID) *IncidentUpdateOne {
	_u.mutation.RemoveDebriefIDs(ids...)
	return _u
}

// RemoveDebriefs removes "debriefs" edges to IncidentDebrief entities.
func (_u *IncidentUpdateOne) RemoveDebriefs(v ...*IncidentDebrief) *IncidentUpdateOne {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveDebriefIDs(ids...)
}

// ClearReviewSessions clears all "review_sessions" edges to the MeetingSession entity.
func (_u *IncidentUpdateOne) ClearReviewSessions() *IncidentUpdateOne {
	_u.mutation.ClearReviewSessions()
	return _u
}

// RemoveReviewSessionIDs removes the "review_sessions" edge to MeetingSession entities by IDs.
func (_u *IncidentUpdateOne) RemoveReviewSessionIDs(ids ...uuid.UUID) *IncidentUpdateOne {
	_u.mutation.RemoveReviewSessionIDs(ids...)
	return _u
}

// RemoveReviewSessions removes "review_sessions" edges to MeetingSession entities.
func (_u *IncidentUpdateOne) RemoveReviewSessions(v ...*MeetingSession) *IncidentUpdateOne {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveReviewSessionIDs(ids...)
}

// ClearUserRoles clears all "user_roles" edges to the IncidentRoleAssignment entity.
func (_u *IncidentUpdateOne) ClearUserRoles() *IncidentUpdateOne {
	_u.mutation.ClearUserRoles()
	return _u
}

// RemoveUserRoleIDs removes the "user_roles" edge to IncidentRoleAssignment entities by IDs.
func (_u *IncidentUpdateOne) RemoveUserRoleIDs(ids ...uuid.UUID) *IncidentUpdateOne {
	_u.mutation.RemoveUserRoleIDs(ids...)
	return _u
}

// RemoveUserRoles removes "user_roles" edges to IncidentRoleAssignment entities.
func (_u *IncidentUpdateOne) RemoveUserRoles(v ...*IncidentRoleAssignment) *IncidentUpdateOne {
	ids := make([]uuid.UUID, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveUserRoleIDs(ids...)
}

// ClearIncidentLinks clears all "incident_links" edges to the IncidentLink entity.
func (_u *IncidentUpdateOne) ClearIncidentLinks() *IncidentUpdateOne {
	_u.mutation.ClearIncidentLinks()
	return _u
}

// RemoveIncidentLinkIDs removes the "incident_links" edge to IncidentLink entities by IDs.
func (_u *IncidentUpdateOne) RemoveIncidentLinkIDs(ids ...int) *IncidentUpdateOne {
	_u.mutation.RemoveIncidentLinkIDs(ids...)
	return _u
}

// RemoveIncidentLinks removes "incident_links" edges to IncidentLink entities.
func (_u *IncidentUpdateOne) RemoveIncidentLinks(v ...*IncidentLink) *IncidentUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveIncidentLinkIDs(ids...)
}

// Where appends a list predicates to the IncidentUpdate builder.
func (_u *IncidentUpdateOne) Where(ps ...predicate.Incident) *IncidentUpdateOne {
	_u.mutation.Where(ps...)
	return _u
}

// Select allows selecting one or more fields (columns) of the returned entity.
// The default is selecting all fields defined in the entity schema.
func (_u *IncidentUpdateOne) Select(field string, fields ...string) *IncidentUpdateOne {
	_u.fields = append([]string{field}, fields...)
	return _u
}

// Save executes the query and returns the updated Incident entity.
func (_u *IncidentUpdateOne) Save(ctx context.Context) (*Incident, error) {
	return withHooks(ctx, _u.sqlSave, _u.mutation, _u.hooks)
}

// SaveX is like Save, but panics if an error occurs.
func (_u *IncidentUpdateOne) SaveX(ctx context.Context) *Incident {
	node, err := _u.Save(ctx)
	if err != nil {
		panic(err)
	}
	return node
}

// Exec executes the query on the entity.
func (_u *IncidentUpdateOne) Exec(ctx context.Context) error {
	_, err := _u.Save(ctx)
	return err
}

// ExecX is like Exec, but panics if an error occurs.
func (_u *IncidentUpdateOne) ExecX(ctx context.Context) {
	if err := _u.Exec(ctx); err != nil {
		panic(err)
	}
}

// check runs all checks and user-defined validators on the builder.
func (_u *IncidentUpdateOne) check() error {
	if _u.mutation.TenantCleared() && len(_u.mutation.TenantIDs()) > 0 {
		return errors.New(`ent: clearing a required unique edge "Incident.tenant"`)
	}
	if _u.mutation.SeverityCleared() && len(_u.mutation.SeverityIDs()) > 0 {
		return errors.New(`ent: clearing a required unique edge "Incident.severity"`)
	}
	if _u.mutation.TypeCleared() && len(_u.mutation.TypeIDs()) > 0 {
		return errors.New(`ent: clearing a required unique edge "Incident.type"`)
	}
	return nil
}

// Modify adds a statement modifier for attaching custom logic to the UPDATE statement.
func (_u *IncidentUpdateOne) Modify(modifiers ...func(u *sql.UpdateBuilder)) *IncidentUpdateOne {
	_u.modifiers = append(_u.modifiers, modifiers...)
	return _u
}

func (_u *IncidentUpdateOne) sqlSave(ctx context.Context) (_node *Incident, err error) {
	if err := _u.check(); err != nil {
		return _node, err
	}
	_spec := sqlgraph.NewUpdateSpec(incident.Table, incident.Columns, sqlgraph.NewFieldSpec(incident.FieldID, field.TypeUUID))
	id, ok := _u.mutation.ID()
	if !ok {
		return nil, &ValidationError{Name: "id", err: errors.New(`ent: missing "Incident.id" for update`)}
	}
	_spec.Node.ID.Value = id
	if fields := _u.fields; len(fields) > 0 {
		_spec.Node.Columns = make([]string, 0, len(fields))
		_spec.Node.Columns = append(_spec.Node.Columns, incident.FieldID)
		for _, f := range fields {
			if !incident.ValidColumn(f) {
				return nil, &ValidationError{Name: f, err: fmt.Errorf("ent: invalid field %q for query", f)}
			}
			if f != incident.FieldID {
				_spec.Node.Columns = append(_spec.Node.Columns, f)
			}
		}
	}
	if ps := _u.mutation.predicates; len(ps) > 0 {
		_spec.Predicate = func(selector *sql.Selector) {
			for i := range ps {
				ps[i](selector)
			}
		}
	}
	if value, ok := _u.mutation.ExternalID(); ok {
		_spec.SetField(incident.FieldExternalID, field.TypeString, value)
	}
	if _u.mutation.ExternalIDCleared() {
		_spec.ClearField(incident.FieldExternalID, field.TypeString)
	}
	if value, ok := _u.mutation.Slug(); ok {
		_spec.SetField(incident.FieldSlug, field.TypeString, value)
	}
	if value, ok := _u.mutation.Title(); ok {
		_spec.SetField(incident.FieldTitle, field.TypeString, value)
	}
	if value, ok := _u.mutation.Summary(); ok {
		_spec.SetField(incident.FieldSummary, field.TypeString, value)
	}
	if _u.mutation.SummaryCleared() {
		_spec.ClearField(incident.FieldSummary, field.TypeString)
	}
	if value, ok := _u.mutation.ChatChannelID(); ok {
		_spec.SetField(incident.FieldChatChannelID, field.TypeString, value)
	}
	if _u.mutation.ChatChannelIDCleared() {
		_spec.ClearField(incident.FieldChatChannelID, field.TypeString)
	}
	if _u.mutation.SeverityCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2O,
			Inverse: false,
			Table:   incident.SeverityTable,
			Columns: []string{incident.SeverityColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentseverity.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.SeverityIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2O,
			Inverse: false,
			Table:   incident.SeverityTable,
			Columns: []string{incident.SeverityColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentseverity.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.TypeCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2O,
			Inverse: false,
			Table:   incident.TypeTable,
			Columns: []string{incident.TypeColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidenttype.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.TypeIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2O,
			Inverse: false,
			Table:   incident.TypeTable,
			Columns: []string{incident.TypeColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidenttype.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.MilestonesCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.MilestonesTable,
			Columns: []string{incident.MilestonesColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentmilestone.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedMilestonesIDs(); len(nodes) > 0 && !_u.mutation.MilestonesCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.MilestonesTable,
			Columns: []string{incident.MilestonesColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentmilestone.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.MilestonesIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.MilestonesTable,
			Columns: []string{incident.MilestonesColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentmilestone.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.EventsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.EventsTable,
			Columns: []string{incident.EventsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentevent.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedEventsIDs(); len(nodes) > 0 && !_u.mutation.EventsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.EventsTable,
			Columns: []string{incident.EventsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentevent.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.EventsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.EventsTable,
			Columns: []string{incident.EventsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentevent.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.RetrospectiveCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2O,
			Inverse: false,
			Table:   incident.RetrospectiveTable,
			Columns: []string{incident.RetrospectiveColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(retrospective.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RetrospectiveIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2O,
			Inverse: false,
			Table:   incident.RetrospectiveTable,
			Columns: []string{incident.RetrospectiveColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(retrospective.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.UsersCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: true,
			Table:   incident.UsersTable,
			Columns: incident.UsersPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(user.FieldID, field.TypeUUID),
			},
		}
		createE := &IncidentRoleAssignmentCreate{config: _u.config, mutation: newIncidentRoleAssignmentMutation(_u.config, OpCreate)}
		_ = createE.defaults()
		_, specE := createE.createSpec()
		edge.Target.Fields = specE.Fields
		if specE.ID.Value != nil {
			edge.Target.Fields = append(edge.Target.Fields, specE.ID)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedUsersIDs(); len(nodes) > 0 && !_u.mutation.UsersCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: true,
			Table:   incident.UsersTable,
			Columns: incident.UsersPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(user.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		createE := &IncidentRoleAssignmentCreate{config: _u.config, mutation: newIncidentRoleAssignmentMutation(_u.config, OpCreate)}
		_ = createE.defaults()
		_, specE := createE.createSpec()
		edge.Target.Fields = specE.Fields
		if specE.ID.Value != nil {
			edge.Target.Fields = append(edge.Target.Fields, specE.ID)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.UsersIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: true,
			Table:   incident.UsersTable,
			Columns: incident.UsersPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(user.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		createE := &IncidentRoleAssignmentCreate{config: _u.config, mutation: newIncidentRoleAssignmentMutation(_u.config, OpCreate)}
		_ = createE.defaults()
		_, specE := createE.createSpec()
		edge.Target.Fields = specE.Fields
		if specE.ID.Value != nil {
			edge.Target.Fields = append(edge.Target.Fields, specE.ID)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.RoleAssignmentsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: true,
			Table:   incident.RoleAssignmentsTable,
			Columns: []string{incident.RoleAssignmentsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentroleassignment.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedRoleAssignmentsIDs(); len(nodes) > 0 && !_u.mutation.RoleAssignmentsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: true,
			Table:   incident.RoleAssignmentsTable,
			Columns: []string{incident.RoleAssignmentsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentroleassignment.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RoleAssignmentsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: true,
			Table:   incident.RoleAssignmentsTable,
			Columns: []string{incident.RoleAssignmentsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentroleassignment.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.LinkedIncidentsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.LinkedIncidentsTable,
			Columns: incident.LinkedIncidentsPrimaryKey,
			Bidi:    true,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incident.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedLinkedIncidentsIDs(); len(nodes) > 0 && !_u.mutation.LinkedIncidentsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.LinkedIncidentsTable,
			Columns: incident.LinkedIncidentsPrimaryKey,
			Bidi:    true,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incident.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.LinkedIncidentsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.LinkedIncidentsTable,
			Columns: incident.LinkedIncidentsPrimaryKey,
			Bidi:    true,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incident.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.FieldSelectionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.FieldSelectionsTable,
			Columns: incident.FieldSelectionsPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentfieldoption.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedFieldSelectionsIDs(); len(nodes) > 0 && !_u.mutation.FieldSelectionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.FieldSelectionsTable,
			Columns: incident.FieldSelectionsPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentfieldoption.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.FieldSelectionsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.FieldSelectionsTable,
			Columns: incident.FieldSelectionsPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentfieldoption.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.TasksCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.TasksTable,
			Columns: []string{incident.TasksColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(task.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedTasksIDs(); len(nodes) > 0 && !_u.mutation.TasksCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.TasksTable,
			Columns: []string{incident.TasksColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(task.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.TasksIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.TasksTable,
			Columns: []string{incident.TasksColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(task.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.TagAssignmentsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.TagAssignmentsTable,
			Columns: incident.TagAssignmentsPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidenttag.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedTagAssignmentsIDs(); len(nodes) > 0 && !_u.mutation.TagAssignmentsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.TagAssignmentsTable,
			Columns: incident.TagAssignmentsPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidenttag.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.TagAssignmentsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.TagAssignmentsTable,
			Columns: incident.TagAssignmentsPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidenttag.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.DebriefsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.DebriefsTable,
			Columns: []string{incident.DebriefsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentdebrief.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedDebriefsIDs(); len(nodes) > 0 && !_u.mutation.DebriefsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.DebriefsTable,
			Columns: []string{incident.DebriefsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentdebrief.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.DebriefsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   incident.DebriefsTable,
			Columns: []string{incident.DebriefsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentdebrief.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.ReviewSessionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.ReviewSessionsTable,
			Columns: incident.ReviewSessionsPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(meetingsession.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedReviewSessionsIDs(); len(nodes) > 0 && !_u.mutation.ReviewSessionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.ReviewSessionsTable,
			Columns: incident.ReviewSessionsPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(meetingsession.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.ReviewSessionsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2M,
			Inverse: false,
			Table:   incident.ReviewSessionsTable,
			Columns: incident.ReviewSessionsPrimaryKey,
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(meetingsession.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.UserRolesCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: true,
			Table:   incident.UserRolesTable,
			Columns: []string{incident.UserRolesColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentroleassignment.FieldID, field.TypeUUID),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedUserRolesIDs(); len(nodes) > 0 && !_u.mutation.UserRolesCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: true,
			Table:   incident.UserRolesTable,
			Columns: []string{incident.UserRolesColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentroleassignment.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.UserRolesIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: true,
			Table:   incident.UserRolesTable,
			Columns: []string{incident.UserRolesColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentroleassignment.FieldID, field.TypeUUID),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.IncidentLinksCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: true,
			Table:   incident.IncidentLinksTable,
			Columns: []string{incident.IncidentLinksColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentlink.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedIncidentLinksIDs(); len(nodes) > 0 && !_u.mutation.IncidentLinksCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: true,
			Table:   incident.IncidentLinksTable,
			Columns: []string{incident.IncidentLinksColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentlink.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.IncidentLinksIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: true,
			Table:   incident.IncidentLinksTable,
			Columns: []string{incident.IncidentLinksColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(incidentlink.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	_spec.AddModifiers(_u.modifiers...)
	_node = &Incident{config: _u.config}
	_spec.Assign = _node.assignValues
	_spec.ScanValues = _node.scanValues
	if err = sqlgraph.UpdateNode(ctx, _u.driver, _spec); err != nil {
		if _, ok := err.(*sqlgraph.NotFoundError); ok {
			err = &NotFoundError{incident.Label}
		} else if sqlgraph.IsConstraintError(err) {
			err = &ConstraintError{msg: err.Error(), wrap: err}
		}
		return nil, err
	}
	_u.mutation.done = true
	return _node, nil
}
